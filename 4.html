<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TariffSolver AI å®Œæ•´ç‰ˆ</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body { font-family:sans-serif; background:#f3f6f9; margin:0; padding:0;}
  header { background:#003366; color:white; padding:20px; text-align:center;}
  .container { max-width:800px; margin:20px auto; background:white; padding:20px; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1);}
  input, select, button { width:100%; padding:10px; margin-top:10px; border-radius:6px; border:1px solid #ccc; font-size:16px;}
  button { background:#0073e6; color:white; border:none; cursor:pointer; font-weight:bold;}
  button:hover { background:#0059b3;}
  .card { background:#f1f5f9; padding:15px; border-radius:8px; margin-top:15px;}
  table { width:100%; border-collapse:collapse; margin-top:15px;}
  th,td { border:1px solid #ccc; padding:8px; text-align:center;}
  td img { width:30px; height:20px; vertical-align:middle; margin-right:5px;}
</style>
</head>
<body>

<header>
  <h1>ğŸ’¹ TariffSolver AI</h1>
  <p>åˆ†æé—œç¨…å°è‚¡å¸‚å½±éŸ¿ä¸¦æä¾›æŠ•è³‡ç­–ç•¥</p>
</header>

<div class="container">
  <h2>1ï¸âƒ£ è¼¸å…¥é—œç¨…èˆ‡ç”¢æ¥­</h2>
  <input type="number" id="tariff" placeholder="é—œç¨…è®ŠåŒ– % (+ä¸Šå‡, -ä¸‹é™)">
  <select id="industry">
    <option value="all">å…¨éƒ¨ç”¢æ¥­</option>
    <option value="automobile">æ±½è»Š</option>
    <option value="semiconductor">åŠå°é«”</option>
    <option value="steel">é‹¼éµ</option>
    <option value="shipping">èˆªé‹</option>
  </select>
  <button onclick="solve()">åˆ†æèˆ‡ç­–ç•¥</button>
  
  <div id="result" class="card" style="display:none;"></div>
  
  <canvas id="chart"></canvas>
</div>

<div class="container">
  <h2>2ï¸âƒ£ æ­·å²é—œç¨…æ¡ˆä¾‹æŸ¥è©¢</h2>
  <input type="text" id="searchInput" placeholder="è¼¸å…¥ç”¢æ¥­æˆ–åœ‹å®¶æœå°‹...">
  <label>é–‹å§‹æ—¥æœŸï¼š</label>
  <input type="date" id="startDate">
  <label>çµæŸæ—¥æœŸï¼š</label>
  <input type="date" id="endDate">
  <label>æ’åºæ–¹å¼ï¼š</label>
  <select id="sortBy">
    <option value="date">æ—¥æœŸ</option>
    <option value="tariff">é—œç¨…å¹…åº¦</option>
    <option value="impact">è‚¡å¸‚å½±éŸ¿</option>
  </select>
  <button onclick="filterData()">æŸ¥è©¢</button>

  <table id="dataTable">
    <thead>
      <tr>
        <th>æ—¥æœŸ</th>
        <th>åœ‹å®¶</th>
        <th>ç”¢æ¥­</th>
        <th>é—œç¨…è®ŠåŒ–(%)</th>
        <th>è‚¡å¸‚å½±éŸ¿(%)</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<script>
  // æ­·å²è³‡æ–™ï¼ˆåŠ ä¸Šåœ‹æ——åœ–ç‰‡ï¼‰
  const historyData = [
    {date:'2025-01-15', country:'ç¾åœ‹', industry:'æ±½è»Š', tariff:10, impact:-3, img:'https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg'},
    {date:'2025-02-20', country:'ä¸­åœ‹', industry:'åŠå°é«”', tariff:5, impact:-2, img:'https://upload.wikimedia.org/wikipedia/commons/f/f7/Flag_of_the_People%27s_Republic_of_China.svg'},
    {date:'2025-03-10', country:'å¾·åœ‹', industry:'é‹¼éµ', tariff:-5, impact:2, img:'https://upload.wikimedia.org/wikipedia/en/b/ba/Flag_of_Germany.svg'},
    {date:'2025-04-05', country:'æ—¥æœ¬', industry:'é›»å­', tariff:8, impact:-1.5, img:'https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg'},
    {date:'2025-05-12', country:'éŸ“åœ‹', industry:'èˆªé‹', tariff:-3, impact:1, img:'https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg'}
  ];

  // AIåˆ†æå‡½æ•¸
  function solve(){
    const tariff = parseFloat(document.getElementById('tariff').value);
    const industry = document.getElementById('industry').value;
    const result = document.getElementById('result');
    if(isNaN(tariff)){ result.style.display='block'; result.innerHTML='âš ï¸ è«‹è¼¸å…¥æ•¸å­—'; return;}

    let message="", advice="", risk="", trend=[];

    if(tariff>0){
      message = `ğŸ“‰ é—œç¨…ä¸Šå‡ ${tariff}% å¯èƒ½å°è‡´ä¼æ¥­æˆæœ¬ä¸Šå‡ã€è‚¡å¸‚çŸ­æœŸå¯èƒ½ä¸‹è·Œã€‚`;
      advice = "âœ… æŠ•è³‡ç­–ç•¥ï¼šæ¸›å°‘å‡ºå£å°å‘è‚¡ç¥¨ï¼Œå¢åŠ å…§éœ€ã€é˜²ç¦¦å‹è‚¡ç¥¨æŒè‚¡";
      risk = "âš ï¸ é¢¨éšªæç¤ºï¼šè‚¡å¸‚æ³¢å‹•å¤§ï¼Œå»ºè­°åˆ†æ•£æŠ•è³‡æˆ–ä½¿ç”¨ETF/æœŸè²¨é¿éšª";
      trend=[100,98,95,93,92,94];
    } else if(tariff<0){
      message = `ğŸ“ˆ é—œç¨…ä¸‹é™ ${Math.abs(tariff)}% å¯èƒ½ä¿ƒé€²è²¿æ˜“èˆ‡ä¼æ¥­ç²åˆ©ï¼Œè‚¡å¸‚å¯èƒ½ä¸Šå‡ã€‚`;
      advice = "âœ… æŠ•è³‡ç­–ç•¥ï¼šå¢åŠ å‡ºå£å°å‘è‚¡ç¥¨æŒè‚¡";
      risk = "âš ï¸ é¢¨éšªæç¤ºï¼šä»éœ€è§€å¯Ÿåœ‹éš›éœ€æ±‚æ³¢å‹•";
      trend=[100,102,105,108,112,115];
    } else{
      message = "ğŸ”¹ é—œç¨…æœªè®Šï¼Œå¸‚å ´ç¶­æŒç©©å®š";
      advice = "âœ… æŠ•è³‡ç­–ç•¥ï¼šè§€å¯Ÿç”¢æ¥­èˆ‡å¸‚å ´å‹•æ…‹";
      risk="";
      trend=[100,100,100,101,100,101];
    }

    if(industry!=="all"){ message+=`<br>ğŸ­ å°ˆæ³¨ç”¢æ¥­ï¼š${industry}`; }

    result.style.display='block';
    result.innerHTML=`<strong>åˆ†æçµæœï¼š</strong><br>${message}<br><strong>å»ºè­°ç­–ç•¥ï¼š</strong>${advice}<br>${risk}`;

    // æ›´æ–°åœ–è¡¨
    const ctx = document.getElementById('chart');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Day1','Day2','Day3','Day4','Day5','Day6'],
        datasets:[{
          label:'æ¨¡æ“¬è‚¡åƒ¹èµ°å‹¢',
          data: trend,
          borderColor:'#0073e6',
          borderWidth:3,
          fill:false,
          tension:0.2
        }]
      },
      options: { scales:{y:{beginAtZero:false}}, plugins:{legend:{display:true}} }
    });
  }

  // æ­·å²è³‡æ–™æŸ¥è©¢
  function filterData(){
    const keyword = document.getElementById('searchInput').value.toLowerCase();
    const start = document.getElementById('startDate').value;
    const end = document.getElementById('endDate').value;
    const sortBy = document.getElementById('sortBy').value;

    let filtered = historyData.filter(item=>{
      const matchKeyword = !keyword || item.country.toLowerCase().includes(keyword) || item.industry.toLowerCase().includes(keyword);
      const matchStart = !start || item.date >= start;
      const matchEnd = !end || item.date <= end;
      return matchKeyword && matchStart && matchEnd;
    });

    filtered.sort((a,b)=>{
      if(sortBy==='date') return new Date(a.date)-new Date(b.date);
      if(sortBy==='tariff') return b.tariff - a.tariff;
      if(sortBy==='impact') return b.impact - a.impact;
    });

    const tbody = document.querySelector('#dataTable tbody');
    tbody.innerHTML = '';
    filtered.forEach(item=>{
      tbody.innerHTML += `<tr>
        <td>${item.date}</td>
        <td><img src="${item.img}" alt="${item.country}"> ${item.country}</td>
        <td>${item.industry}</td>
        <td>${item.tariff}</td>
        <td>${item.impact}</td>
      </tr>`;
    });
  }

  // DOM è¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–è¡¨æ ¼
  document.addEventListener('DOMContentLoaded', filterData);
</script>

</body>
</html>

